---
title: "Aula 5 - Lendo dados de forma automatizada"
author: "Marcelo Tonon"
date: "02/05/2020"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(eval = FALSE, include = TRUE)
```

# Introdução e Objetivo

Feitas a introdução de R, iremos neste capítulo do curso apresentar as diferentes formas possíveis em que se pode ler uma base de dados a partir do R.

# 1. A Função paste e paste0

Se você deseja escrever uma frase no R a partir objetos, você pode usar a função `paste` ou a função `paste0`. Veja abaixo quando usamos a isso junto as funções `Sys.Date()` e `Sys.Time()`. que retornam, respectivamente, a data atual e o hórario atual. `paste` e `paste0` fazem no R o que `concatenar` faz no Excel.

```{r}
x <- "A data de hoje: "
data <- Sys.Date()
paste(x, data, sep = " ")
hora <- format(Sys.time(), "%X")
paste0("A hora é ", hora)
```

Repare que quando usamos `paste()` precisamos especificar qual será o separador entre os objetos concatenados com `sep = `. No caso de `paste(x, data, sep = " ")`, o separador é um dois pontos seguindo de um espaço, `": "`, como indicado entre as aspas. Importante dizer que o separador deve ser sempre um character. Assim sendo, uma função como `paste(x, data, sep = 2)` retornaria um erro.

No caso de `paste0()`, não há separador entre os objetos. Assim sendo, não há necessidade de estabelecer qual é o separador como `sep = ""`. Podemos pensar em `paste0()` como um subconjunto de `paste()`.

Aqui vale notar uma questão relevante, e de certo modo auto evidente, para as funções `Sys.time()` e `Sys.date`: ambas retornam valores diferentes quando executadas em diferentes momentos. Vamos ver as implicações então, quando criaremos o objeto `hora.1` e a função `hora()`:

```{r}

hora1 <-  paste0("A hora é: ", Sys.time())

# Pedindo para o R esperar 2 segundos.
Sys.sleep(2)


hora <- function() paste0("A hora é: ", Sys.time())

# Testando se o resultado de hora.1 e de hora.2() é a mesma coisa.
hora1 == hora()
```

Você pode perceber que quando perguntamos ao ``R`` se `hora.1()` e `hora.2()` são a mesma coisa, usando `==`, ele nos retorna `FALSE`. Isso porque, sempre que chamamos `hora.1` o sistema irá retornar o en

Você pode perceber que quando perguntamos ao ``R`` se `hora1` e `hora()` são a mesma coisa, usando `==`, ele nos retorna `FALSE`. Isso porque, sempre que chamarmos `hora.1` no sistema, este irá retornar um mesmo valor, que foi gravado pela função `Sys.time()` no momento em que `hora1` foi definido. Por outro lado, a função `hora()` irá sempre retornar um valor novo toda vez que foi executada. Desse modo, ao usar funções ou objetos que tenham como insumo  funções como `paste` e `paste0`, temos que ter em mente se o valor do objeto é definido ou dinâmico.

